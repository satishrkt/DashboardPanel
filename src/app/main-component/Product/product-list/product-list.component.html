<div class="container">
    <div class="inner-section">
        <form #form="ngForm" (ngSubmit)="onSubmitForm(product)">
            <div class="row">
                <div class="col-lg-4">
                    <mat-form-field appearance="outline">
                        <mat-label>Category</mat-label>
                        <mat-select [(ngModel)]="product.categoryId" name="categoryId">
                            @for(category of categoryList; track category.categoryId) {
                                <mat-option [value]="category.categoryId">{{ category.name }}</mat-option>
                            } @empty {
                                <mat-option>No Any Category</mat-option>
                            }
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-lg-4">
                    <mat-form-field appearance="outline">
                        <mat-label>Product Name</mat-label>
                        <input matInput placeholder="Product Name" name="name" [(ngModel)]="product.name">
                    </mat-form-field>
                </div>
                <div class="col-lg-4">
                    <mat-form-field appearance="outline">
                        <mat-label>Description</mat-label>
                        <input matInput placeholder="Description...." name="description" [(ngModel)]="product.description">
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <mat-form-field appearance="outline">
                        <mat-label>Regular Price</mat-label>
                        <input matInput placeholder="Regular Price" name="regularPrice" [(ngModel)]="product.regularPrice"> 
                    </mat-form-field>
                </div>
                <div class="col-md-4">
                    <mat-form-field appearance="outline">
                        <mat-label>Sale Price</mat-label>
                        <input matInput placeholder="Sale Price" name="salePrice" [(ngModel)]="product.salePrice">
                    </mat-form-field>
                </div>
                <div class="col-md-4">
                    <mat-form-field appearance="outline">
                        <input matInput placeholder="Qunatity" name="stockQuantity" [(ngModel)]="product.stockQuantity">
                    </mat-form-field>
                </div>
            </div>
            <div class="row">                
                <div class="col-md-4">
                    @if(actionBtn == "UPDATE") {
                        <img src="https://localhost:44367/assets/images/{{this.imageName}}" alt="image" style="max-width: 80px; max-height: 80px;">
                    }
                    <input type="file" name="image" [(ngModel)]="product.image" (change)="onFileSelected($event)" placeholder="Image" >
                    
                </div>
                <div class="col-md-4">
                    <mat-form-field appearance="outline">
                        <mat-label>Status</mat-label>
                        <mat-select [(ngModel)]="product.status" name="status" >
                            <mat-option [value]="product.status" >Show</mat-option>
                            <mat-option [value]="product.status" >Hide</mat-option>
                        </mat-select> 
                    </mat-form-field>
                </div>
            </div>
            <div class="btn-section">
                <button type="submit" mat-raised-button color="primary" appButtonDirective>{{actionBtn}}</button>
                <button type="reset" mat-raised-button color="warn">Reset</button>
            </div>
        </form>
    </div>

    <!-- <div class="inner-section">
        <div class="mat-elevation-z8">
            <mat-form-field appearance="outline">
                <mat-label>Filter</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="Search...." #input>
            </mat-form-field>
            <table mat-table [dataSource]="productData" class="example" matSort>
                <ng-container matColumnDef="productId">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                    <td mat-cell *matCellDef="let data">{{ data.productId }}</td>
                </ng-container>
                <ng-container matColumnDef="categoryName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Category Name</th>
                    <td mat-cell *matCellDef="let data">{{ data.categoryName }}</td>
                </ng-container>
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header="">Product Name</th>
                    <td mat-cell *matCellDef="let data">{{ data.name | titlecase }}</td>
                </ng-container>
                <ng-container matColumnDef="regularPrice">
                    <th mat-header-cell *matHeaderCellDef>Regular Price</th>
                    <td mat-cell *matCellDef="let data">{{ data.regularPrice | currency: 'INR' }}</td>
                </ng-container>
                <ng-container matColumnDef="salePrice">
                    <th mat-header-cell *matHeaderCellDef>Sale Price</th>
                    <td mat-cell *matCellDef="let data">{{ data.salePrice | currency: 'INR' }}</td>
                </ng-container>
                <ng-container matColumnDef="stockQuantity">
                    <th mat-header-cell *matHeaderCellDef>Quantity</th>
                    <td mat-cell *matCellDef="let data">{{ data.stockQuantity }}</td>
                </ng-container>    
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef>Action</th>
                    <td mat-cell *matCellDef="let data">
                        <button mat-icon-button color="primary"><mat-icon>edit</mat-icon></button>
                        <button mat-icon-button color="warn"><mat-icon>delete</mat-icon></button>
                    </td>
                </ng-container>
    
                <tr mat-header-row *matHeaderRowDef="tableColumns"></tr>
                <tr mat-row *matRowDef="let data; columns: tableColumns"></tr>
    
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No data matching the filter {{ input.value }}</td>
                </tr>
            </table>
            <mat-paginator pageSizeOption="[5, 10, 20, 30]" aria-label="Select page of User"></mat-paginator>
        </div>
    </div> -->
    @defer () { 
        <app-tabel [tblColumns]="tableColumns" [tblData]="productData" (onEdit)="onClickEditButton($event)" (onDelete)="onClickDeleteButton($event)"></app-tabel>
    }
    <!-- <app-tabel [tblColumns]="tableColumns" [tblData]="productData" [actionButton]="actionButtonTemplate"></app-tabel>
    <ng-template #actionButtonTemplate>
        <td>
            <button mat-icon-button color="primary" (click)="onClickEditButton(this.productData.filteredData.map(product => product.productId))">
                <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn">
                <mat-icon>delete</mat-icon>
            </button>
        </td>
    </ng-template> -->
</div>